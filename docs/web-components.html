<html class="has-navbar-fixed-top" lang="en"><head><title>Fable.Lit · Web Components</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/Fable.Lit/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/Fable.Lit/">Fable.Lit</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active is-hidden-mobile" href="/Fable.Lit/docs/getting-started.html">Documentation</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/Fable.Lit"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/Fable.Lit/docs/getting-started.html">Documentation</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/Fable.Lit">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a></div></div></nav><div class="grey-overlay"></div><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Web Components</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/getting-started.html">Getting started</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/templates.html">Templates</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/hook-components.html">Hook Components</a></li></li></ul><ul class="menu-list"><li><li><a class=" is-active" href="/Fable.Lit/docs/web-components.html">Web Components</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/hmr.html">Hot Reloading</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/testing.html">Testing</a></li></li></ul></aside></div></div><div class="column is-8-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Web Components</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/fable-compiler/Fable.Lit/edit/main/docsrc/docs/web-components.md">Edit</a></div></div><h1 class="title is-1">Web Components</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtki{font-style:italic}.atom-one-light .mtk8{color:#0184bc}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk6{color:#986801}.atom-one-light .mtk7{color:#a0a1a7}.atom-one-light .mtk4{color:#c18401}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p><a href=https://developer.mozilla.org/en-US/docs/Web/Web_Components>Web Components</a> are a way to create custom reusable HTML Elements and are part of the browser standards. These elements work as any other HTML tag like a <code>div</code>, <code>span</code>, or <code>article</code> meaning that you can produce web components that are able to be used by any framework without having to write any kind of wrapper on top of it.<article class="is-info message"><div class=message-body><div><p>These web components use <a href=https://lit.dev>Lit</a> under the hood, visit <a href=https://lit.dev>Lit.dev</a> for more detailed information on how <code>LitElement</code> Web Components work.</div></div></article><p>Let's see a quick simple example of a web component:<pre class="atom-one-light grvsc-container"data-index=0 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60LitElement</span><span class=mtk14>(</span><span class=mtk10>"my-counter"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>Counter</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtk7 mtki">// This call is obligatory to initialize the web component</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>_</span><span class=mtk14>,</span><span class=mtk1> props </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        LitElement.init</span><span class=mtk14>(fun</span><span class=mtk1> init </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            init.props </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk14>{|</span><span class=mtk1> initial </span><span class=mtk14>=</span><span class=mtk1> Prop.Of</span><span class=mtk14>(</span><span class=mtk1>defaultValue </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>0</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>|})</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>counter</span><span class=mtk14>,</span><span class=mtk1> setCounter </span><span class=mtk14>=</span><span class=mtk1> Hook.useState props.initial.Value</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60article></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60p>{counter}&#60/p></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60button @click={fun _ -> setCounter(counter + 1)}>+&#60/button></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60button @click={fun _ -> setCounter(counter - 1)}>-&#60/button></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60/article></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        """</span></span></span></code></pre><br><p>And then in HTML you can use it as:<pre class="atom-one-light grvsc-container"data-index=1 data-language=html><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>&lt;</span><span class=mtk5>my-counter</span><span class=mtk1> </span><span class=mtk6>initial</span><span class=mtk1>=</span><span class=mtk10>"10"</span><span class=mtk1>>&#60/</span><span class=mtk5>my-counter</span><span class=mtk1>></span></span></span></code></pre><br><blockquote><p>When we say you can use it in HTML we mean it, wherever you are used to put an HTML tag you are able to use it, vue, angular, server side pages... You name it.</blockquote><h2 id=registering>Registering<a href=#registering aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Web components are automatically registered when the function decorated by <code>[&#60LitElement>]</code> is loaded. However, since the function is not called directly it may happen the file where the function is declared doesn't get any reference from the entry point of your application. In those cases, you can include a "dummy" register function only for the purpose of referencing the file containing the component from the entry point of your application.<pre class="atom-one-light grvsc-container"data-index=2 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// MyComponent.fs</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>register</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60LitElement</span><span class=mtk14>(</span><span class=mtk10>"my-component"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>MyComponent</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>..</span><span class=mtk1>.</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// App.fs</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>MyComponent.register</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>html $</span><span class=mtk10>"&#60my-component />"</span></span></span></code></pre><h2 id=properties-and-attributes>Properties and attributes<a href=#properties-and-attributes aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>As we've just seen, Web Components must be initialized in HTML, we cannot call the function directly. Because of this, arguments must be passed through HTML properties/attributes. In DOM elements, the attributes is what you see in the HTML as in <code>&#60input type="text"></code>, while properties are getters/setters as in any other JS object: <code>myInput.value = "foo"</code>. Attributes only accept string, while properties accept any value.<p>In Fable.Lit you declare the component's custom properties when initializing and by default Lit will create an attribute with the same name. For non-string properties you can pass a converter to decode the value from the attribute string (numbers and booleans will be converted automatically). Also, you can set a custom attribute name with the <code>attribute</code> parameter or just disable the attribute if you pass an empty string.<p>Whenever one of the properties change Lit will trigger a new render of the component.<pre class="atom-one-light grvsc-container"data-index=3 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>LitElement.init</span><span class=mtk14>(fun</span><span class=mtk1> config </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>split</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>str</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        str.Split</span><span class=mtk14>(</span><span class=mtk10>','</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> Array.map </span><span class=mtk14>(fun</span><span class=mtk1> x </span><span class=mtk14>-></span><span class=mtk1> x.Trim</span><span class=mtk14>())</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> Array.toList</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    config.props </span><span class=mtk14>&#60-</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>{|</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class="mtk7 mtki">// "selected" attribute is created</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            selected </span><span class=mtk14>=</span><span class=mtk1> Prop.Of</span><span class=mtk14>(</span><span class=mtk10>"lightgreen"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class="mtk7 mtki">// "colors" attribute is create and split function is used to convert the string value</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            colorList </span><span class=mtk14>=</span><span class=mtk1> Prop.Of</span><span class=mtk14>([],</span><span class=mtk1> attribute</span><span class=mtk14>=</span><span class=mtk10>"colors"</span><span class=mtk14>,</span><span class=mtk1> fromAttribute </span><span class=mtk14>=</span><span class=mtk1> split</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class="mtk7 mtki">// This property won't be exposed as attribute</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            onlyProp </span><span class=mtk14>=</span><span class=mtk1> Prop.Of</span><span class=mtk14>({|</span><span class=mtk1> foo </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>5</span><span class=mtk1> </span><span class=mtk14>|},</span><span class=mtk1> attribute</span><span class=mtk14>=</span><span class=mtk10>""</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>|}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>)</span></span></span></code></pre><br><p>Remember that Lit templates allow you to pass values to properties using a dot. Like this you can pass values that are not strings.<pre class="atom-one-light grvsc-container"data-index=4 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>html $</span><span class=mtk10>"&#60my-element .onlyProperty={ {| foo = 4 |} } />"</span></span></span></code></pre><h2 id=events>Events<a href=#events aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Because a LitElement becomes just another HTML Element, you can use it to trigger HTML Events. Same as with attributes, events can be used to make your component communicate with the external world in a standard way regardless of the framework or even the language.<pre class="atom-one-light grvsc-container"data-index=5 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60LitElement</span><span class=mtk14>(</span><span class=mtk10>"product-settings"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>CloseMe</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>host</span><span class=mtk14>,</span><span class=mtk1> props </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        LitElement.init</span><span class=mtk14>(fun</span><span class=mtk1> init </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            init.props </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk14>{|</span><span class=mtk1> product </span><span class=mtk14>=</span><span class=mtk1> Prop.Of</span><span class=mtk14>({</span><span class=mtk1> </span><span class="mtk7 mtki">(* ... product definition ...*)</span><span class=mtk1> </span><span class=mtk14>})</span><span class=mtk1> </span><span class=mtk14>|})</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>product</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> props.product.Value</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>onDeleteFromInventory</span><span class=mtk1> _ </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        host.dispatchEvent</span><span class=mtk14>(</span><span class=mtk10>"on-delete-from-inventory"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>onHideFromCustomers</span><span class=mtk1> _ </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        host.dispatchCustomEvent</span><span class=mtk14>(</span><span class=mtk10>"on-hide-from-customers"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>{</span><span class=mtk1> product </span><span class=mtk14>with</span><span class=mtk1> hidden </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1> </span><span class=mtk14>})</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60article></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60header></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                &#60h3>{product.name}&#60/h3></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60/header></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60aside></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                &#60button @click={onHideFromCustomers}>Delete&#60/button></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                &#60button @click={onDeleteFromInventory}>Hide&#60/button></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60/aside></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60section></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                &#60!-- the rest of the component --></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60/section></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60/article></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        """</span></span></span></code></pre><p><code>host.dispatchEvent</code> and <code>host.dispatchCustomEvent</code> have the following optional arguments<ul><li>detail -> (CustomEvent only) A value or object that you want to send to the listeners of this event<li>bubbles -> Allow the event to enter the bubbling phase<li>composed -> Let the event cross the shadow DOM boundary<li>cancelable -> Allow this event to be default prevented</ul><article class="is-info message"><div class=message-body><div><p>These parameters are set to true by default (except from detail) for convenience since most of the time this is what you want when you dispatch events</div></div></article><h2 id=styles>Styles<a href=#styles aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>By default, Lit Elements will attach a <a href=https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM>Shadow DOM</a> to the generated HTML Element. The main advantage of the Shadow DOM is <strong>style encapsulation</strong>, meaning the infamous CSS conflict's won't happen between your component and the rest of the document. On the other hand, this also means global styles won't affect your component, o you cannot use CSS frameworks like Bootstrap or Bulma.<p>To define styles for your Lit Elements with a shadow DOM, provide them in the init function.<pre class="atom-one-light grvsc-container"data-index=6 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60LitElement</span><span class=mtk14>(</span><span class=mtk10>"my-element"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>MyElement</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>_</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> LitElement.init</span><span class=mtk14>(fun</span><span class=mtk1> init </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        init.styles </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>yield!</span><span class=mtk1> Shared.styles</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            css $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            :host {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                display: flex;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                flex-direction: column;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            p {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                color: red;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            """</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>])</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60p>This text is red!&#60/p></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60my-other-element header="This element's p's won't be red">&#60/my-other-element></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        """</span></span></span></code></pre><article class="is-info message"><div class=message-body><div><p>Note you can mix custom styles with base styles shared with other components (<code>Shared.styles</code> in the example). <code>Lit.css</code> function requires a template string so remember to escape braces <code>{{</code> <code>}}</code> as required by F# interpolation syntax.</div></div></article><p>Assuming <code>&#60my-other-element header="This element's p's won't be red">&#60/my-other-element></code> is another web component (meaning it has it's own Shadow DOM) the <code>p</code> tags inside that element won't be affected by our own CSS styles.<p>Even if the shadow DOM provides CSS Encapsulation, customization is still possible via:<ul><li><a href=https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties>Custom CSS Properties</a><li><a href=https://developer.mozilla.org/en-US/docs/Web/CSS/::part>Css Parts</a></ul><p>To know more about applying styles to LitElement check the <a href=https://lit.dev/docs/components/styles/#theming>Lit docs on theming</a>.<article class="is-info message"><div class=message-body><div><p>Shadow DOM is supported by modern browsers and can be <a href=https://lit.dev/docs/tools/requirements/#loading-polyfills>polyfilled for legacy browsers</a>.</div></div></article><h3 id=web-components-without-shadow-dom>Web Components without Shadow DOM<a href=#web-components-without-shadow-dom aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h3><p>Custom Elements and Shadow DOM are actually different technologies, so it's possible to have a <code>LitElement</code> without a shadow DOM if you want to use global styles or a CSS framework. In this case, you can use <a href=./hook-components.html#scoped-css>scoped CSS</a> instead:<pre class="atom-one-light grvsc-container"data-index=7 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60LitElement</span><span class=mtk14>(</span><span class=mtk10>"my-element"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>MyElement</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>_</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> LitElement.init</span><span class=mtk14>(fun</span><span class=mtk1> config </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        config.useShadowDom </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk6>false</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>className</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        Hook.use</span><span class=mtk14>_</span><span class=mtk1>scoped</span><span class=mtk14>_</span><span class=mtk1>css </span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            p {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                color: red;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        """</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    &#60div class={className}></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60p>This text is still red!&#60/p></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    &#60/div></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    """</span></span></span></code></pre><h2 id=differences-with-hook-components>Differences with Hook Components<a href=#differences-with-hook-components aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><ul><li>Web Components are actual HTML elements that live in the DOM. Hook Components are just abstractions based on <a href=https://lit.dev/docs/templates/custom-directives/#async-directives>Lit async directives</a><li>Instantiate Web components in HTML, don't call the function directly<li>Arguments must be passed through HTML attributes/properties<li>Lit also has more fine-grained control of a LitElement lifecycle, sometimes this is needed for example when using the <a href=https://www.npmjs.com/package/@lit-labs/motion>animate directive</a></ul><article class="is-info message"><div class=message-body><div><p>Fable.Lit hooks and HMR are compatible both with Hook and Web Components</div></div></article><h2 id=use-cases>Use cases<a href=#use-cases aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Popular libraries made with Web components are<ul><li><a href=https://fast.design>FAST</a> - Microsoft<ul><li><a href=https://github.com/microsoft/fluentui/tree/master/packages/web-components>Fluent UI</a> - The design langauge that powers Windows</ul><li><a href=https://github.com/adobe/spectrum-web-components>Spectrum Web Components</a> - Adobe Spectrum design language<li><a href=https://vaadin.com/components>Vaadin</a><li><a href=https://ionicframework.com/docs/components>Ionic Framework</a></ul><blockquote><p>Most of those are actually built with Lit as well!</blockquote><p>If these libraries already provide UI libraries why would you want to author web components?<ul><li>Testability<li>Design Systems/Branding<li>Portability</ul><h4 id=testability>Testability<a href=#testability aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h4><p>Components are a single unit of the UI they have behavior and state it's easier to test them in isolation. They are similar to functions<ul><li><code>inputs -> processing -> outputs</code><li><code>attr/props -> processing | User Interaction -> UIChanges | Events</code></ul><p>That means that it should be easy to determine which things changed inside a component when their properties or attributes have changed, if the user changed something or if the element is trying to communicate with the parent elements<article class="is-info message"><div class=message-body><div><p>Check <a href=./testing.html>Testing</a> to know more about how can you test Lit components</div></div></article><h4 id=design-systems>Design Systems<a href=#design-systems aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h4><p>If you're part of a company with multiple teams, chances are that those teams might have chosen different tools to work with if your company wants to implement a branding or a uniform way to distinguish itself from others it would be hard to create components in each library, web components are a perfect fit for that, Adobe Spectrum and Ionic Framework are excelent examples of that they define dozens of web components with a particular design language that makes the brand easily recognizable.<h4 id=portability>Portability<a href=#portability aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h4><p>Web components are designed to work in the browser, once you include the script tag and register them you can use them in any UI library Angular, Vue, Server, etc. write once use everywhere.</div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/Fable.Lit/docs/hook-components.html"><i>←</i><span class="is-hidden-mobile"><em></em><strong>Hook Components</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/Fable.Lit/docs/hmr.html"><span class="is-hidden-mobile"><em></em><strong>Hot Reloading</strong></span><i>→</i></a></div></div></div></div><script async="" src="/Fable.Lit/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>