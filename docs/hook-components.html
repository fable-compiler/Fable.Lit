<html class="has-navbar-fixed-top" lang="en"><head><title>Fable.Lit · Hook Components</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/Fable.Lit/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/Fable.Lit/">Fable.Lit</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active is-hidden-mobile" href="/Fable.Lit/docs/getting-started.html">Documentation</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/Fable.Lit"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/Fable.Lit/docs/getting-started.html">Documentation</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/Fable.Lit">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a></div></div></nav><div class="grey-overlay"></div><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Hook Components</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/getting-started.html">Getting started</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/templates.html">Templates</a></li></li></ul><ul class="menu-list"><li><li><a class=" is-active" href="/Fable.Lit/docs/hook-components.html">Hook Components</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/web-components.html">Web Components</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/hmr.html">Hot Reloading</a></li></li></ul><ul class="menu-list"><li><li><a class=" " href="/Fable.Lit/docs/testing.html">Testing</a></li></li></ul></aside></div></div><div class="column is-8-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Hook Components</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/fable-compiler/Fable.Lit/edit/main/docsrc/docs/hook-components.md">Edit</a></div></div><h1 class="title is-1">Hook Components</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtki{font-style:italic}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk9{color:#4078f2}.atom-one-light .mtk8{color:#0184bc}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk6{color:#986801}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk4{color:#c18401}.atom-one-light .mtk7{color:#a0a1a7}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p>Fable.Lit includes the <code>HookComponent</code> attribute. When you decorate a view function with it, this lets you use <a href=https://reactjs.org/docs/hooks-overview.html>hooks</a> in a similar way as <a href=https://zaid-ajaj.github.io/Feliz/#/Feliz/React/NotJustFunctions>ReactComponent</a> attribute does. Hook support is included in Fable.Lit's F# code and doesn't require any extra JS dependency besides Lit.<pre class="atom-one-light grvsc-container"data-index=0 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Lit</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60HookComponent>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>NameInput</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>value</span><span class=mtk14>,</span><span class=mtk1> setValue </span><span class=mtk14>=</span><span class=mtk1> Hook.useState </span><span class=mtk10>"World"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>inputRef</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> Hook.useRef</span><span class=mtk14>&lt;</span><span class=mtk1>HTMLInputElement</span><span class=mtk14>></span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>      &#60div class="content"></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60p>Hello {value}!&#60/p></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60input {Ref inputRef}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>          value={value}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>          @keyup={EvVal setValue}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>          @focus={Ev(fun _ -> inputRef.Value |> Option.iter (fun el -> el.select()))}></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>      &#60/div></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    """</span></span></span></code></pre><article class="is-info message"><div class=message-body><div><p>Note that HookComponents are just a way to keep state between renders and doesn't create a custom HTML element. Check <a href=./web-components.html>Web Components</a> if you want to declare a component that can be instantiated from HTML.</div></div></article><p>Fable.Lit hooks in general have the same API as their React counterparts but may differ in some occasions:<ul><li><code>useState</code><li><code>useMemo</code><li><code>useRef</code>: Can use "native" F# refs.<li><code>useEffect</code>: Doesn't accept a dependency array, instead it provides semantic alternatives for each use case.<ul><li><code>useEffect</code>: Trigger an effect after each render.<li><code>useEffectOnce</code>: Trigger an effect only once after the first render.<li><code>useEffectOnChange</code>: Trigger an effect after each render <strong>if</strong> the given value has changed.</ul></ul><h2 id=useelmish>UseElmish<a href=#useelmish aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Thanks to the great work by <a href=https://twitter.com/Cody_S_Johnson>Cody Johnson</a> with <a href=https://zaid-ajaj.github.io/Feliz/#/Hooks/UseElmish>Feliz.UseElmish</a>, Fable.Lit HookComponents also include <code>useElmish</code> hook to manage the internal state of your components using the model-view-update architecture.<pre class="atom-one-light grvsc-container"data-index=1 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Elmish</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Lit</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Model</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>..</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Msg</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>..</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>init</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>..</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>update</span><span class=mtk1> msg model </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>..</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>view</span><span class=mtk1> model dispatch </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>..</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60HookComponent>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>Clock</span><span class=mtk6>()</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>TemplateResult </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>model</span><span class=mtk14>,</span><span class=mtk1> dispatch </span><span class=mtk14>=</span><span class=mtk1> Hook.useElmish</span><span class=mtk14>(</span><span class=mtk1>init</span><span class=mtk14>,</span><span class=mtk1> update</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    view model dispatch</span></span></span></code></pre><h2 id=scoped-css>Scoped CSS<a href=#scoped-css aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Scoped CSS is a technique used by CSS modules or frameworks like Vue or Svelte to provide style encapsulation even when using global CSS. The trick is to automatically prefix all your CSS selectors with a class name that will be used in the root of your component. This way you make sure the rules won't affect anything outside your component. Since 1.4, Fable.Lit provides the <code>use_scoped_css</code> hook to do this: it will automatically generate a unique id as the class name and automatically prefix all the selectors in your CSS. Then it returns the class name so you can use it in your Lit template.<div></div><p>When a selector starts with <code>:host</code>, this is replaced by the class name instead of prefixing it. @keyframes names will also be prefixed too so you can make sure they won't conflict with other styles.<pre class="atom-one-light grvsc-container"data-index=2 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60HookComponent>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>ClockDisplay</span><span class=mtk1> model dispatch </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Hook.useHmr </span><span class=mtk14>(</span><span class=mtk1>hmr</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>transitionMs</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>800</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>clasName</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> Hook.use</span><span class=mtk14>_</span><span class=mtk1>scoped</span><span class=mtk14>_</span><span class=mtk1>css $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        .clock-container {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            transition-duration: {transitionMs}ms;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        .clock-container.transition-enter {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            opacity: 0;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            transform: scale(2) rotate(1turn);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        .clock-container.transition-leave {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            opacity: 0;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            transform: scale(0.1) rotate(-1.5turn);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        @keyframes move-side-by-side {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            from {{ margin-left: -50%%; }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            to {{ margin-left: 50%%; }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        button {{</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            animation: 1.5s linear 1s infinite alternate move-side-by-side;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        }}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        """</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>transition</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        Hook.useTransition</span><span class=mtk14>(</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            transitionMs</span><span class=mtk14>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            onEntered </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>(fun</span><span class=mtk1> </span><span class=mtk14>()</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> ToggleClock </span><span class=mtk6>true</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> dispatch</span><span class=mtk14>),</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            onLeft </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>(fun</span><span class=mtk1> </span><span class=mtk14>()</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> ToggleClock </span><span class=mtk6>false</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> dispatch</span><span class=mtk14>))</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>clockContainer</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        html $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60div class="clock-container {transition.className}"></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                &#60my-clock</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                    minute-colors="white, red, yellow, purple"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                    hour-color="yellow">&#60/my-clock></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60/div></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        """</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html $</span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60div class="{clasName} vertical-container"></span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60button class="button"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                style="margin: 1rem 0"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                ?disabled={transition.isRunning}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                @click={Ev(fun _ -></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                    if model.ShowClock then transition.triggerLeave()</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                    else transition.triggerEnter())}></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                {if model.ShowClock then "Hide" else "Show"} clock</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            &#60/button></span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            {if transition.hasLeft then Lit.nothing else clockContainer()}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        &#60/div></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    """</span></span></span></code></pre><blockquote><p><code>Hook.use_scoped_css</code> uses snake case for compatibility with the <a href="https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight">F# templates VS Code extension</a>.</blockquote><p>Scoped CSS is also compatible with <a href=./web-components.html>web components</a> when you are not using Shadow DOM.<h2 id=writing-your-own-hook>Writing your own hook<a href=#writing-your-own-hook aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>The magic behind Fable.Lit's hooks is the context is provided by the JS <code>this</code> keyword. To access the context from the render function you must use an <code>inline</code> helper and then pass the context to your custom hook. Usually we implement the inlined helper as an static extension of <code>Hook</code> type, and the hook itself as an extension of <code>Lit.HookContext</code>. Example:<pre class="atom-one-light grvsc-container"data-index=3 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> MyHooks </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Lit</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtk7 mtki">// Updating a ref doesn't cause a re-render,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtk7 mtki">// so let's use a ref with the same signature as useState</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>HookContext</span><span class=mtk1> </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>ctx.useSilentState</span><span class=mtk14>(</span><span class=mtk1>v</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>'Value</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>r</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> ctx.useRef</span><span class=mtk14>(</span><span class=mtk1>v</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            r.Value</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>fun</span><span class=mtk1> v </span><span class=mtk14>-></span><span class=mtk1> r </span><span class=mtk14>:=</span><span class=mtk1> v</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Hook</span><span class=mtk1> </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class="mtk7 mtki">// IMPORTANT! This function must be inlined to access the context from the render function</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>static member inline</span><span class=mtk1> </span><span class=mtk5>useSilentState</span><span class=mtk14>(</span><span class=mtk1>v</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>'Value</span><span class=mtk14>):</span><span class=mtk1> </span><span class=mtk4>'Value </span><span class=mtk14>*</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk4>'Value </span><span class=mtk14>-></span><span class=mtk4> unit</span><span class=mtk14>)</span><span class=mtk4> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            Hook.getContext</span><span class=mtk6>()</span><span class=mtk1>.useSilentState</span><span class=mtk14>(</span><span class=mtk1>v</span><span class=mtk14>)</span></span></span></code></pre></div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/Fable.Lit/docs/templates.html"><i>←</i><span class="is-hidden-mobile"><em></em><strong>Templates</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/Fable.Lit/docs/web-components.html"><span class="is-hidden-mobile"><em></em><strong>Web Components</strong></span><i>→</i></a></div></div></div></div><script async="" src="/Fable.Lit/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>